База данных системы разработана для управления основными бизнес-процессами фотостудии Statement и включает в себя следующие ключевые компоненты:

1. Управление обратной связью
Система обратной связи позволяет клиентам связаться со студией через различные мессенджеры. Каждое обращение содержит контактные данные клиента, выбранный способ связи, тему и текст сообщения. Система автоматически фиксирует время обращения и требует подтверждения согласия с политикой конфиденциальности.

2. Интеграция с Telegram
Для оперативного реагирования на обращения клиентов реализована система уведомлений через Telegram. Система хранит информацию о подключенных чатах, отслеживает успешность доставки сообщений и ведет статистику ошибок. Это позволяет администраторам студии своевременно получать уведомления о новых обращениях и оперативно на них реагировать.

3. Управление пользователями
Система разграничивает доступ к функционалу через ролевую модель. Пользователи могут иметь различные роли, определяющие их права и возможности в системе. Для каждого пользователя ведется учет времени создания, последнего входа и обновления учетных данных, что обеспечивает безопасность и контроль доступа.

4. Управление контентом
Система предоставляет полноценное управление публикациями (постами) с поддержкой:
- Метаданных (URL, заголовки, описания)
- Медиа-контента (изображения)
- Версионирования (создание, обновление, публикация)
- Мягкого удаления (soft delete)
- Отслеживания авторов изменений

5. Система уведомлений
Реализована внутренняя система уведомлений, позволяющая:
- Создавать и обновлять уведомления
- Прикреплять изображения
- Отслеживать авторов и время изменений

Связи между компонентами:
Обратная связь ↔ Мессенджеры
• Каждое обращение привязано к конкретному мессенджеру
• При удалении мессенджера все связанные обращения также удаляются

Пользователи ↔ Роли
• Каждый пользователь имеет определенную роль в системе
• При удалении роли все связанные пользователи удаляются из системы

Пользователи ↔ Контент
• Каждый пост имеет автора создания и последнего обновления
• При удалении пользователя все связанные посты сохраняются, но ссылки на авторов обнуляются

Пользователи ↔ Уведомления
• Каждое уведомление имеет автора создания и последнего обновления
• При удалении пользователя все связанные уведомления удаляются

Особенности реализации:
• Автоматическое отслеживание времени создания и обновления записей
• Уникальная идентификация чатов, пользователей и URL-адресов
• Каскадное удаление связанных данных для поддержания целостности
• Обязательное заполнение ключевых полей для обеспечения полноты данных
• Поддержка мягкого удаления для постов
• Система версионирования контента с отслеживанием авторов изменений
• Интеграция с мессенджерами (Telegram, WhatsApp) для обратной связи
• Система уведомлений с поддержкой медиа-контента

Данная структура базы данных обеспечивает:
- Эффективное управление обратной связью с клиентами
- Оперативное реагирование на обращения через систему уведомлений
- Безопасное управление доступом к функционалу системы
- Полноценное управление контентом с поддержкой версионирования
- Гибкую систему внутренних уведомлений
